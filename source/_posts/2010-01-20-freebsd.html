---
layout: post
title: "準備重新安裝FreeBSD 前的備份工作"
date: 2010-01-08T16:33:00+08:00
categories:
 - FreeBSD
---

<div class='post'>
1. 根目錄下的 .cshrc :<br /><br />set prompt = "%B%n@%m %/] # "<br />setenv LC_ALL zh_TW.UTF-8<br />setenv LANG zh_TW.UTF-8<br />setenv CLICOLOR<br />set COLOR<br />setenv LSCOLORS ExGxFxdxCxDxDxBxBxExEx<br /><br /> <br /><br />2. ACPI的問題解決檔案:<br /><br />檔案:ACPI-DSDT.asl<br /><br />處理步驟:<br /><br />i. iasl ACPI-DSDT.asl<br /><br />ii. cp DSDT.aml /boot/DSDT.aml<br /><br />iii. ee /boot/loader.conf <br /><br />iiii. 加入 acpi_dsdt_load="YES"<br /><br />              acpi_dsdt_name="/boot/DSDT.aml"<br /><br /> <br /><br />3. /etc/resolv.conf<br /><br />##nameserver 172.16.1.224<br />nameserver 172.16.1.4<br />#nameserver 168.95.1.1<br />#nameserver 139.175.55.244<br /><br />4. /etc/rc.conf<br /><br /># -- sysinstall generated deltas -- # Sun Oct 26 22:24:59 2008<br /># added by xorg-libraries port<br />keymap="us.iso"<br />local_startup="/usr/local/etc/rc.d"<br />usbd_enable="YES"<br /># -- sysinstall generated deltas -- # Sun Oct 26 22:35:53 2008<br />#ifconfig_bge0="inet 192.168.11.5  netmask 255.255.255.0"<br />#defaultrouter="192.168.11.1"<br />ifconfig_bge0="inet 172.16.1.184 netmask 255.255.255.0"<br />defaultrouter="172.16.1.251"<br />hostname="web.myFreeBSD.com.tw"<br />iwi_enable="YES"<br />ipw_enable="YES"<br />ifconfig_iwi0="DHCP"<br />wlans_iwi0="wlan0"<br />#ifconfig_bge0="DHCP"<br />sshd_enable="YES"<br /># -- sysinstall generated deltas -- # Wed Nov  5 18:50:11 2008<br />saver="daemon"<br /><br />5. /boot/load.conf<br /><br />if_ath_load="YES"<br />if_wi_load="YES"<br />if_ipw_load="YES"<br />wlan_wep_load="YES"<br />wlan_ccmp_load="YES"<br />wlan_tkip_load="YES"<br /><br />6. /etc/make.conf<br /><br />X11BASE=${LOCALBASE}<br />MASTER_SITE_BACKUP?=    \<br />     ftp://freebsd.csie.ncu.edu.tw/distfiles/${DIST_SUBDIR}/\<br />     ftp://freebsd.csie.nctu.edu.tw/pub/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp7.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp10.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp2.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp3.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp4.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp5.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp8.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp9.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp11.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp12.tw.freebsd.org/pub/FreeBSD/distfiles/${DIST_SUBDIR}/\<br />     ftp://ftp.freebsd.org/pub/FreeBSD/ports/distfiles/${DIST_SUBDIR}/<br />MASTER_SITE_OVERRIDE?= ${MASTER_SITE_BACKUP}<br />MASTER_SORT_REGEX=      .tw/ .tw. .edu/ .edu.<br />ENABLE_SUIDPERL = true<br />SUP_UPDATE=     yes<br />SUP=            /usr/bin/csup<br />SUPFLAGS=       -g -L 2<br />SUPHOST=        cvsup12.tw.FreeBSD.org<br />#SUPFILE=        /usr/share/examples/cvsup/standard-supfile<br />SUPFILE=        /usr/share/examples/cvsup/stable-supfile<br />PORTSSUPFILE=   /usr/share/examples/cvsup/ports-supfile<br />DOCSUPFILE=     /usr/share/examples/cvsup/doc-supfile<br /> <br /># added by use.perl 2008-11-06 18:11:49<br />PERL_VER=5.8.8<br />PERL_VERSION=5.8.8<br /><br />7. /root/ports-supfile 相同於 /usr/share/examples/cvsup/ports-supfile<br /><br />(ps:以便於 csup -g -L 2 /root/ports-supfile<br /><br />......省略<br /><br /># Defaults that apply to all the collections<br />#<br /># IMPORTANT: Change the next line to use one of the CVSup mirror sites<br /># listed at http://www.freebsd.org/doc/handbook/mirrors.html.<br />*default host=cvsup.tw.freebsd.org<br />#default host=csup.freebsd.org<br />*default base=/usr<br />*default prefix=/usr<br />*default release=cvs tag=.<br />*default delete use-rel-suffix<br /># If you seem to be limited by CPU rather than network or disk bandwidth, try<br /># commenting out the following line.  (Normally, today's CPUs are fast enough<br /># that you want to run compression.)<br />*default compress<br /><br />......省略<br /><br /> <br /><br />8. 其他備註:<br /><br />FreeBSD 大更新 6.x -> 7.x 時, 一定要執行 mergemaster<br /><br />FreeBSD 刪除使用者: rmuser<br /><br />FreeBSD 新增使用者: adduser<br /><br />FreeBSD 新增群組: /etc/group or pw groupadd xxxx</div>
